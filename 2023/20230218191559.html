<!doctype html><html lang=zh-hans><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta content="yes" name=apple-mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>调整美化Hugo的maupassant主题 | 奥国天空</title>
<meta property="og:title" content="调整美化Hugo的maupassant主题 - 奥国天空"><meta property="og:type" content="article"><meta property="article:published_time" content='2023-02-18T19:15:59+08:00'><meta property="article:modified_time" content='2023-02-18T19:15:59+08:00'><meta name=Keywords content><meta name=description content="调整美化Hugo的maupassant主题"><meta name=author content><meta property="og:url" content="https://matteo.eu.org/2023/20230218191559.html"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/icons/favicon-apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/friendly.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script></head><body><div id=body_container class=body_container><main id=main class=main_container><div id=header><div class=site-name><h1 class=hidden>奥国天空</h1><a id=logo href=/.>奥国天空</a><p class=description>Matteo's Daily Life and Reflections</p></div><div id=nav-menu><a class=current href=https://matteo.eu.org/><i class="fa fa-home">首页</i></a>
<a href=https://matteo.eu.org/categories.html title=分类><i class='fa fa-folder'></i><span>分类</span></a>
<a href=https://matteo.eu.org/tags.html title=标签><i class='fa fa-tag'></i><span>标签</span></a>
<a href=https://matteo.eu.org/archives.html title=归档><i class='fa fa-archive'></i><span>归档</span></a></div></div><div class=content_container><div class=toc-article><h2 class=toc-title>文章目录</h2><div class=toc-content><nav id=TableOfContents><ol><li><ol><li><a href=#1-取消-点击链接时新开标签页面>1. 取消 点击链接时新开标签页面</a></li><li><a href=#2-解决文章目录不显示二级目录的问题>2. 解决文章目录不显示二级目录的问题</a></li><li><a href=#3-国际化>3. 国际化</a></li><li><a href=#4-文章归档支持>4. 文章归档支持</a></li><li><a href=#5-表格和代码块>5. 表格和代码块</a></li><li><a href=#6-固定右侧导航栏>6. 固定右侧导航栏</a></li><li><a href=#7-图片点击缩放>7. 图片点击缩放</a></li><li><a href=#8-树形sections>8. 树形Sections</a></li></ol></li></ol></nav></div></div><script type=text/javascript>var postToc=document.querySelector(".toc-article");if(postToc){const e=postToc.getBoundingClientRect().top;window.addEventListener("scroll",function(){var t=document.documentElement.scrollTop,t=t<188?0:t-188;postToc.style.top=t+e+"px"})}document.querySelector("#TableOfContents").children.length<1&&document.querySelector(".toc-article").remove()</script><article class=post><header><h1 class=post-title>调整美化Hugo的maupassant主题</h1></header><time datetime=2023-02-18T18:15:59Z class="post-meta meta-date dt-published">2023年2月18日</time><div class=post-meta><span>&nbsp;|</span>
<a href=/categories/hugo target=_blank>Hugo</a>
<a href=/categories/%E4%B8%BB%E9%A2%98 target=_blank>主题</a></div><div class=clear style=display:none><div class=toc-article><div class=toc-title>文章目录</div></div></div><div class=post-content><p>Maupassant 一款非常简洁、性能高的Hugo主题，适配不同的设备（PC，Mobile等）。 主要是基于 Typecho Cho, 从 JokerQyou forked，修改和添加了很多功能而成，如GA统计、最近的文章、标签云、自定义菜单、按日期归档等 。</p><h3 id=1-取消-点击链接时新开标签页面>1. 取消 点击链接时新开标签页面</h3><ul><li>复制主题目录 maupassant\layouts\index.html 到 网站目录 layouts\index.html</li></ul><p>删除里面的两个 <code>target="_blank"</code>。</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    ......
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Permalink }}&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;{{ .Title }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span><span class=p>&gt;</span>{{ .Title }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ......
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;readmore&#34;</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Permalink }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span><span class=p>&gt;</span>{{ i18n &#34;continueReading&#34; }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ......
</span></span></code></pre></td></tr></table></div></div></div><ul><li><code>recent_post.html</code> 同样操作。</li></ul><h3 id=2-解决文章目录不显示二级目录的问题>2. 解决文章目录不显示二级目录的问题</h3><p>复制 <code>maupassant\layouts\partials\toc.html</code> 到网站目录 <code>layouts\partials\toc.html</code></p><p>删除第53行 <code>display: none;</code> 。</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    .post-toc .post-toc-content ul ul {
</span></span><span class=line><span class=cl>        padding-left: 15px;
</span></span><span class=line><span class=cl>        display: none;
</span></span><span class=line><span class=cl>    }
</span></span></code></pre></td></tr></table></div></div></div><h3 id=3-国际化>3. 国际化</h3><ul><li>支持 <a href=https://www.rfc-editor.org/rfc/rfc5646>RFC 5646</a> 所有语言代码，但是<strong>只能是小写字母</strong>。</li><li>把 config.toml 中的 <code>#languageCode = "en-us"</code> 改成 <code>defaultContentLanguage = "zh-hans"</code> ：</li></ul><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>## languageCode = &#34;en-us&#34;
</span></span><span class=line><span class=cl>defaultContentLanguage = &#34;zh-hans&#34;
</span></span></code></pre></td></tr></table></div></div></div><p><code>zh-hans.toml</code> 已存在于主题 i18n\目录。</p><h3 id=4-文章归档支持>4. 文章归档支持</h3><ul><li>归档页面
Hugo默认是不支持生成归档文件的，该主题已经实现了文章归档，只需要新建文件 <code>content/archives/index.md</code> ，文件内容为：</li></ul><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>title: &#34;归档&#34;
</span></span><span class=line><span class=cl>description: Android资深工程师 ，Go和Java打杂师，《Android Gradle权威指南》作者，Android官方技术文档译者
</span></span><span class=line><span class=cl>type: archives
</span></span></code></pre></td></tr></table></div></div></div><p>title和description都可以修改，但是type必须是archives。</p><p>生成的 archives.html 在根目录，要修改 config.toml:</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl>  [[menu.main]]
</span></span><span class=line><span class=cl>    identifier = &#34;archives&#34;
</span></span><span class=line><span class=cl>    name = &#34;归档&#34;
</span></span><span class=line><span class=cl>    url = &#34;/archives.html&#34;
</span></span><span class=line><span class=cl>    weight = 3
</span></span></code></pre></td></tr></table></div></div></div><ul><li>在原标签页打开文章：</li></ul><p>复制 <code>maupanssant\layouts\archives\single.html</code> 到 网站目录对应位置，删除 <code>target="_blank"</code> 。</p><h3 id=5-表格和代码块>5. 表格和代码块</h3><ul><li>修改style</li></ul><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>table-container</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>max-width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>overflow-x</span><span class=p>:</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>table</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#dedede</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*表格外边框设置*/</span>
</span></span><span class=line><span class=cl>    <span class=k>margin</span><span class=p>:</span> <span class=mi>15</span><span class=kt>px</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*外边距*/</span>
</span></span><span class=line><span class=cl>    <span class=k>border-collapse</span><span class=p>:</span> <span class=kc>collapse</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*使用单一线条的边框*/</span>
</span></span><span class=line><span class=cl>    <span class=k>empty-cells</span><span class=p>:</span> <span class=kc>show</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*单元格无内容依旧绘制边框*/</span>
</span></span><span class=line><span class=cl>    <span class=c>/*table-layout: fixed;	 automatic：默认，由内容决定列宽； fixedd:平均列宽，*/</span>
</span></span><span class=line><span class=cl>    <span class=k>text-align</span><span class=p>:</span> <span class=kc>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>table</span> <span class=nt>th</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>font-size</span><span class=p>:</span> <span class=mi>90</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>font-weight</span><span class=p>:</span> <span class=kc>bold</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*加粗*/</span>
</span></span><span class=line><span class=cl>    <span class=k>text-align</span><span class=p>:</span> <span class=kc>center</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*内容居中，加上 !important 避免被 Markdown 样式覆盖*/</span>
</span></span><span class=line><span class=cl>    <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#dedede</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*内部边框样式*/</span>
</span></span><span class=line><span class=cl>    <span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>158</span><span class=p>,</span> <span class=mi>188</span><span class=p>,</span> <span class=mi>226</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c>/*背景色*/</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>table</span> <span class=nt>td</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>white-space</span><span class=p>:</span> <span class=kc>nowrap</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>font-size</span><span class=p>:</span> <span class=mi>90</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#dedede</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*内部边框样式*/</span>
</span></span><span class=line><span class=cl>    <span class=k>padding</span><span class=p>:</span> <span class=mi>5</span><span class=kt>px</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c>/*内边距*/</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>table</span> <span class=nt>tr</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c>/*隔行变化*/</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>table</span> <span class=nt>tr</span><span class=p>:</span><span class=nd>nth-child</span><span class=o>(</span><span class=nt>2n</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>background</span><span class=p>:</span> <span class=mh>#f7f8f8</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div><ul><li>修改 <code>single.html</code></li></ul><p>把文件中的 <code>{{ .Content }}</code> 修改为：</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>{{</span> <span class=err>$</span><span class=nx>wrappedTable</span> <span class=o>:=</span> <span class=nx>printf</span> <span class=s>&#34;&lt;div class=table-container&gt; ${1} &lt;/div&gt;&#34;</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span> <span class=p>.</span><span class=nx>Content</span> <span class=p>|</span> <span class=nx>replaceRE</span> <span class=s>&#34;(&lt;table&gt;(?:.|\n)+?&lt;/table&gt;)&#34;</span> <span class=err>$</span><span class=nx>wrappedTable</span> <span class=p>|</span> <span class=nx>safeHTML</span> <span class=p>}}</span>
</span></span></code></pre></td></tr></table></div></div></div><p>如果把第二行改成如下，则同时美化表格和代码块：</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-tex data-lang=tex><span class=line><span class=cl> <span class=nb>{{</span> .Content | replaceRE &#34;(&lt;table( class=<span class=k>\&#34;</span>lntable<span class=k>\&#34;</span>)<span class=nb>{</span>0,1<span class=nb>}</span>&gt;(?:.|<span class=k>\n</span>)+?&lt;/table&gt;)&#34; <span class=s>$</span><span class=nb>wrappedTable | safeHTML }}
</span></span></span></code></pre></td></tr></table></div></div></div><h3 id=6-固定右侧导航栏>6. 固定右侧导航栏</h3><p>导航栏一直可见，不会随着屏幕滚动。</p><p>在 <code>baseof.html</code>文件中增加以下代码：</p><div class=highlight><div class=chroma><div class=table-container><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>   <span class=kr>const</span> <span class=nx>sidebarToggle</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.sidebar-toggle&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=kr>const</span> <span class=nx>sidebar</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.sidebar_container&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>// 注册 toggle 的点击事件
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=nx>sidebarToggle</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=nx>sidebar</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>toggle</span><span class=p>(</span><span class=s1>&#39;show&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=nx>main</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>toggle</span><span class=p>(</span><span class=s1>&#39;blur&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>// 获取sidebar和toggle的初始坐标
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=kr>const</span> <span class=nx>sidebarMarginTop</span> <span class=o>=</span> <span class=nx>sidebar</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>marginTop</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=kr>const</span> <span class=nx>toggleTop</span> <span class=o>=</span> <span class=nx>sidebarToggle</span><span class=p>.</span><span class=nx>getBoundingClientRect</span><span class=p>().</span><span class=nx>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=c1>// 注册窗口滚动事件
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;scroll&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=kd>var</span> <span class=nx>distance</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>           <span class=nx>sidebarToggle</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>top</span> <span class=o>=</span> <span class=nx>distance</span> <span class=o>+</span> <span class=nx>toggleTop</span> <span class=o>+</span> <span class=s1>&#39;px&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>           <span class=nx>sidebar</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>marginTop</span> <span class=o>=</span> <span class=nx>distance</span> <span class=o>+</span> <span class=nx>sidebarMarginTop</span> <span class=o>+</span> <span class=s1>&#39;px&#39;</span>
</span></span><span class=line><span class=cl>       <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span></code></pre></td></tr></table></div></div></div><h3 id=7-图片点击缩放>7. 图片点击缩放</h3><p>放弃采用JQuery的fancybox，采用 <a href=https://github.com/sparanoid/lightense-images>lightense</a>。</p><ul><li>注意调整各元素的 position，不能调整的 sidebar 在放大图片前要 display:none。</li><li>不需缩放的图片加上 <code>class="no-lightense"</code></li></ul><h3 id=8-树形sections>8. 树形Sections</h3><p><a href=/categories.html>点击查看</a></p></div><div class="post-meta meta-tags"><ul class=clearfix><li><a href=/tags/hugo.html target=_blank>hugo</a></li><li><a href=/tags/maupassant.html target=_blank>maupassant</a></li><li><a href=/tags/%E4%B8%BB%E9%A2%98.html target=_blank>主题</a></li></ul></div></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=utterances-comments issue-term=og:title theme=github-light crossorigin=anonymous async></script></div></div><footer id=footer><div>&copy; 2025 <a href=https://matteo.eu.org/>奥国天空 By</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://www.flysnow.org/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[["$","$"]],processEscapes:!0}}</script><script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><a id=rocket href=#top></a><script type=text/javascript src='/js/totop.js?v=0.0.0' async></script><style type=text/css>div.highlight{position:relative;margin:1em 0}.copy-code{display:none;position:absolute;top:4px;right:4px;color:rgba(255,255,255,.8);background:rgba(78,78,78,.8);border-radius:var(--radius);padding:0 5px;font:inherit;user-select:none;cursor:pointer;border:0;--radius:8px}div.highlight:hover .copy-code,pre:hover .copy-code{display:block}</style><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>window.addEventListener("load",function(){var t,e=document.querySelector(".sidebar_container");Lightense("img:not(.no-lightense),.lightense",{beforeShow(){t=window.getComputedStyle(e).getPropertyValue("display"),e.style.display="none"},afterHide(){e.style.display=t}})},!1);function getZindex(e){var t=document.querySelector(e);return window.getComputedStyle(t).getPropertyValue("z-index")}function getDisplay(e){var t=document.querySelector(e);return window.getComputedStyle(t).getPropertyValue("display")}function getPosition(e){var t=document.querySelector(e);return window.getComputedStyle(t).getPropertyValue("position")}</script><script src=/js/lightense.min.js></script></main><aside id=sidebar_container class=sidebar_container><div id=sidebar><div class=widget><figure><img class=no-lightense src=/icons/favicon-192x192.png width=100 height=100><figcaption><h4>Matteo</h4></figcaption></figure></div><div class=widget><div class=widget-title><i class="fa fa-search">搜索</a></i></div><div class=search-form><input id=local-search-input placeholder=Search type=text name=q results=0><div id=local-search-result></div><p>文章数量: 30</p></div></div><div class=widget><div class=widget-title><i class="fa fa-folder-o"><a href=/categories.html>分类</a></i></div><ul class=tree-sections><ul><li><a href=https://matteo.eu.org/post/01net.html>①网海拾贝</a><ul><li><a href=https://matteo.eu.org/post/01net/wen.html>网络文摘</a>
<span class=category-count>(1)</span><ul></ul></li></ul></li><li><a href=https://matteo.eu.org/post/02pr.html>②编程语言</a><ul><li><a href=https://matteo.eu.org/post/02pr/cplus.html>C++</a>
<span class=category-count>(4)</span><ul></ul></li></ul></li><li><a href=https://matteo.eu.org/post/03it.html>③IT世界</a><ul><li><a href=https://matteo.eu.org/post/03it/blog.html>Blog相关</a>
<span class=category-count>(6)</span><ul></ul></li><li><a href=https://matteo.eu.org/post/03it/mark.html>Markdown</a>
<span class=category-count>(4)</span><ul></ul></li><li><a href=https://matteo.eu.org/post/03it/exp.html>奇巧经验</a>
<span class=category-count>(2)</span><ul></ul></li><li><a href=https://matteo.eu.org/post/03it/tech.html>前沿技术</a>
<span class=category-count>(1)</span><ul></ul></li></ul></li><li><a href=https://matteo.eu.org/post/04deut.html>④德语学习</a><ul><li><a href=https://matteo.eu.org/post/04deut/gram.html>语法</a>
<span class=category-count>(6)</span><ul></ul></li></ul></li><li><a href=https://matteo.eu.org/post/05life.html>⑤人生百味</a><ul><li><a href=https://matteo.eu.org/post/05life/talk.html>胡言乱语</a>
<span class=category-count>(6)</span><ul></ul></li></ul></li></ul></ul></div><div class=widget><div class=widget-title><i class="fa fa-files-o">最近文章</i></div><ul class=recent_post><li><a href=https://matteo.eu.org/2024/20241022005306.html title="在 Visual Studio Code（VSCode) 中通过 CMake 和 vcpkg 安装和使用包">在 Visual Studio Code（VSCode) 中通过 CMake 和 vcpkg 安装和使用包</a></li><li><a href=https://matteo.eu.org/2023/20230313153822.html title=C++中const的各种用法的详解>C++中const的各种用法的详解</a></li><li><a href=https://matteo.eu.org/2023/20230313020157.html title=德语中只接第三格Dativ的动词>德语中只接第三格Dativ的动词</a></li><li><a href=https://matteo.eu.org/2023/20230313011111.html title=德语中的人三物四>德语中的人三物四</a></li><li><a href=https://matteo.eu.org/2023/20230311215201.html title=古今中外时间对照表，系统详细，方便记忆查询>古今中外时间对照表，系统详细，方便记忆查询</a></li><li><a href=https://matteo.eu.org/2023/20230218191559.html title=调整美化Hugo的maupassant主题>调整美化Hugo的maupassant主题</a></li><li><a href=https://matteo.eu.org/2023/20230217181620.html title=开源C++库列表>开源C++库列表</a></li><li><a href=https://matteo.eu.org/2023/20230216233051.html title="Github 使用 rsync 同步网站到个人服务器">Github 使用 rsync 同步网站到个人服务器</a></li><li><a href=https://matteo.eu.org/2023/20230214151418.html title=情人节的起源和风行世界的原因>情人节的起源和风行世界的原因</a></li><li><a href=https://matteo.eu.org/2023/20230214001310.html title=一个直径60米的气球在18000米高空需要多少氦气？>一个直径60米的气球在18000米高空需要多少氦气？</a></li></ul></div><section class=widget><div class=widget-title><i class="fa fa-star-o">标签</i></div><div class=tagcloud><a href=https://matteo.eu.org/tags/a2.html>A2</a>
<a href=https://matteo.eu.org/tags/blog.html>Blog</a>
<a href=https://matteo.eu.org/tags/c++.html>C++</a>
<a href=https://matteo.eu.org/tags/c++%E5%9F%BA%E7%A1%80.html>C++基础</a>
<a href=https://matteo.eu.org/tags/cmake.html>CMake</a>
<a href=https://matteo.eu.org/tags/email.html>Email</a>
<a href=https://matteo.eu.org/tags/hugo.html>Hugo</a>
<a href=https://matteo.eu.org/tags/markdown.html>Markdown</a>
<a href=https://matteo.eu.org/tags/maupassant.html>Maupassant</a>
<a href=https://matteo.eu.org/tags/vcpkg.html>Vcpkg</a>
<a href=https://matteo.eu.org/tags/vscode.html>VSCode</a>
<a href=https://matteo.eu.org/tags/%E4%B8%BB%E9%A2%98.html>主题</a>
<a href=https://matteo.eu.org/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD.html>人工智能</a>
<a href=https://matteo.eu.org/tags/%E4%BB%A3%E8%AF%8D.html>代词</a>
<a href=https://matteo.eu.org/tags/%E5%86%A0%E8%AF%8D.html>冠词</a>
<a href=https://matteo.eu.org/tags/%E5%8A%A8%E8%AF%8D.html>动词</a>
<a href=https://matteo.eu.org/tags/%E5%90%8D%E8%AF%8D.html>名词</a>
<a href=https://matteo.eu.org/tags/%E5%9F%9F%E5%90%8D.html>域名</a>
<a href=https://matteo.eu.org/tags/%E5%AE%89%E8%A3%85.html>安装</a>
<a href=https://matteo.eu.org/tags/%E5%BC%80%E6%BA%90.html>开源</a>
<a href=https://matteo.eu.org/tags/%E5%BE%B7%E8%AF%AD.html>德语</a>
<a href=https://matteo.eu.org/tags/%E6%97%B6%E9%97%B4.html>时间</a>
<a href=https://matteo.eu.org/tags/%E7%83%AD%E7%82%B9.html>热点</a>
<a href=https://matteo.eu.org/tags/%E7%A7%91%E5%AD%A6.html>科学</a>
<a href=https://matteo.eu.org/tags/%E7%BE%8E%E9%A3%9F.html>美食</a>
<a href=https://matteo.eu.org/tags/%E8%8A%82%E6%97%A5.html>节日</a>
<a href=https://matteo.eu.org/tags/%E8%AF%AD%E6%B3%95.html>语法</a>
<a href=https://matteo.eu.org/tags/%E8%AF%BB%E5%90%8E%E6%84%9F.html>读后感</a></div></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://www.flysnow.org/ title=飞雪无情的博客>飞雪无情的博客</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://matteo.eu.org/index.xml>文章 RSS</a></li></ul></section></div></aside><div><input type=checkbox id=nav-toggle aria-hidden=true>
<label for=nav-toggle class=nav-toggle><div class=nav-toggle-inner><span></span>
<span></span>
<span></span></div></label></div></div></body><script>const sidebarToggle=document.querySelector(".nav-toggle"),sidebar=document.querySelector(".sidebar_container");sidebarToggle.addEventListener("click",()=>{sidebar.classList.toggle("show"),main.classList.toggle("blur"),sidebarToggle.classList.toggle("open")});const sidebarMarginTop=sidebar.style.marginTop,toggleTop=sidebarToggle.getBoundingClientRect().top;window.addEventListener("scroll",()=>{var e=document.documentElement.scrollTop;sidebar.style.marginTop=e+sidebarMarginTop+"px"})</script></html>